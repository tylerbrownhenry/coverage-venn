# Coverage Folders Documentation

This document explains the purpose of the various coverage-related folders in the project.

## Overview

The project uses several different coverage folders for different purposes:

| Folder | Purpose | Description |
|--------|---------|-------------|
| `coverage/` | Jest standard coverage | Contains standard Jest coverage reports for unit tests |
| `coverage-instrumentation/` | Instrumented code coverage | Contains coverage data from code that has been instrumented with our custom Babel plugin |
| `coverage-mock/` | Mock coverage reports | Contains HTML and JSON reports for mock component coverage analysis |
| `coverage-analysis/` | Analysis data | Contains processed coverage data used for analysis and correlation (formerly named `coverage2`) |
| `coverage-babel/` | Babel-specific coverage | Sometimes used for isolated Babel transformation coverage |

## Details

### `coverage/`

This is the standard output folder for Jest coverage, containing:
- HTML reports in `lcov-report/`
- JSON coverage data in `coverage-final.json`
- Coverage summaries
- Source code with coverage annotations

Generated by running Jest with the `--coverage` flag:
```
npm run test:coverage
```

### `coverage-instrumentation/`

This folder contains coverage data from code that has been instrumented using our custom Babel plugin. It provides more detailed information about code execution than standard Jest coverage.

Features:
- Component-level coverage data
- Branch instrumentation
- Function execution tracking
- JSX rendering events

Generated by running:
```
npm run test:instrumented
```

### `coverage-mock/`

Contains HTML and JSON reports specifically for mock component coverage analysis, providing:
- Interactive HTML reports with source code views
- JSON coverage data focused on component coverage
- Visual representations of coverage data

Used by various reporting scripts:
```
npm run generate:simple-report
npm run add:export
npm run add:interactive
```

### `coverage-analysis/`

Contains processed coverage data used for analysis, correlation, and reporting (formerly named `coverage2`). This folder contains:
- Component coverage data in JSON format
- Processed coverage metrics
- Data used for coverage correlation

Used by analysis scripts:
```
npm run analyze:mock-coverage
npm run correlate:coverage
```

### `coverage-babel/`

Sometimes used for isolated Babel transformation coverage. This folder may not always be present depending on the testing configuration.

## Usage Guidelines

1. For standard unit test coverage, refer to `coverage/`.
2. For detailed component and instrumentation coverage, check `coverage-instrumentation/`.
3. For visual reports and sharing, use `coverage-mock/`.
4. For processed analysis data, look in `coverage-analysis/`.

## Script References

Most of these folders are referenced in scripts located in the `scripts/` directory:

- `analyze-mock-coverage.ts` - Uses `coverage-analysis/`
- `correlate-coverage.ts` - Uses `coverage-analysis/` and `coverage/`
- `generate-html-report.ts` - Uses multiple coverage folders
- `add-export-to-report.js` - Uses `coverage-mock/`
- `generate-instrumented-report.js` - Uses `coverage-instrumentation/` 